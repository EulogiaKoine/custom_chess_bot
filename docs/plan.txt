 < 기본 정보 >

이름: 체스봇(임시)
설명: 가상의 체스를 플레이할 수 있게 한다.
기본 환경: 카카오톡, 텍스트
환경적 요구조건 / 설계 지향점: 환경은 선택사항으로, 아키텍처 윗단(외부)으로 빼기


 < 구상 / 요구사항 >

1. 기본적인 체스말 옮기기와 승패 판정이 가능할 것.
2. 체스판을 카카오톡 환경에서 뭉개지지 않는 텍스트로 변환 가능할 것.
3. 컴파일 등으로 중도 진행이 막히지 않거나 되돌리기가 가능하도록 현황을 외부로 저장할 수 있을 것.
4. 개인의 플레이 기록 등을 저장할 수 있을 것.
5. 시간제한 게임 플레이가 가능할 것.
6. 초기 체스말 배치를 커스텀 가능할 것.
7. 기존에 없는 특수한 체스말이나 체스판을 추가 가능할 것.
8. 승패 조건을 변경 가능할 것.


 < 구상을 위한 설계 요소 >

1. 엔티티: 체스판, 체스말, 심판, 시계
  1-1. 체스판: 말이 움직일 수 있는 공간을 규정하며, 2차원 행렬 구조다.
  1-2. 체스말: 체스판 위에서 움직일 수 있다. 말마다 특수한 이동 규칙을 부여받으며, 기본적으로 폰, 룩, 나이트, 비숍, 퀸, 킹으로 6종이 있다.
  1-3. 심판: 경기자의 차례와 종료 여부를 결정한다.
  1-4. 시계: 시간제한 게임에서 사용되며, 심판에 속하여 제한된 시간을 소진한 플레이어를 탈락시킨다. 초기, 추가 시간은 딜레이, 피셔, 브론스타인 / 클래식, 래피드 등의 규칙에 따라 달라진다.

>> 체스판은 추상 인터페이스로 체스말을 참조하며, 특정 말의 움직임으로 인한 변화를 다른 말들에게 알린다. 즉 기물이 체스판의 옵저버다.
>> 기물이 발생시킬 수 있는 이벤트는 위협(공격범위 내 알림), 공격, 사망이 있다. 일단은.
>> 기물은 판의 정보로부터 모두 이동 / 공격 가능 칸을 개별적으로 얻어올 수 있다. 최적화된 알고리즘을 사용할 것.
>> 기물은 게임을 종료시킬 수 있다. 특히 킹. 예컨대, 킹이 위협 이벤트를 받았을 때 이동 가능 칸을 계산하여 하나도 없으면 체크메이트로 종료시킨다.

2. 종료 조건
 a) 기권 - 수동 종료
 b) 시간패 - 시간 제한 모드에서 잔여 시간 모두 소진
 c) 무승부 - 스테일메이트; 체크X and 한쪽이 둘 수 있는 수X
 d) 무승부 - 기물 부족; 양측 체크메이트 강제 불가
    > 킹 vs 킹
    > 킹+부기물 vs 킹: 체크메이트 강제 불가 상황
    > 킹 vs 모든 기물: 기물을 가진 쪽이 시간을 모두 소진하면, 그렇더라도 다른 한쪽도 체크메이트가 불가능하므로 무승부
    > 킹+2나이트 vs 킹: 나이트 2개만으로는 상대의 자의적인 움직임 없이 체크메이트 강제 불가
    > 킹+부기물 vs 킹+부기물: 서로 비숍을 가진 상황을 제외하면 체크메이트가 가능하나 상대의 협력 없이 강제는 불가.
 e) 무승부 - 50수 규칙: 50수 동안 폰의 움직임 또는 기물을 잡는 수가 두어지지 않았다면 '주장' 가능.
 f) 무승부 - 반복: 서로 같은 움직임을 3턴 이상 반복하면 무승부 '주장' 가능.
 g) 무승부- 합의: 상호 합의 하에 무승부 가능